plugins {
	id "java"
	id "net.ltgt.apt" version "0.9"
	id "idea"
}
sourceCompatibility = 1.6
targetCompatibility = 1.6

apply plugin: 'witness'

dependencies {
	compile project(':bramble-api')
	compile fileTree(dir: 'libs', include: '*.jar')
	compile 'com.madgag.spongycastle:core:1.54.0.0'
	compile 'com.h2database:h2:1.4.190'

	testCompile project(path: ':bramble-api', configuration: 'testOutput')
}

dependencyVerification {
	verify = [
			'com.madgag.spongycastle:core:1e7fa4b19ccccd1011364ab838d0b4702470c178bbbdd94c5c90b2d4d749ea1e',
			'com.h2database:h2:23ba495a07bbbb3bd6c3084d10a96dad7a23741b8b6d64b213459a784195a98c'
	]
}

// needed to make test output available to bramble-j2se
configurations {
	testOutput.extendsFrom(testCompile)
}
task jarTest (type: Jar, dependsOn: testClasses) {
	from sourceSets.test.output
	classifier = 'test'
}
artifacts {
	testOutput jarTest
}
